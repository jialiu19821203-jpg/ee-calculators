<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Non-Inverting Op-Amp Gain Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #e0e0e0;
            min-height: 100vh;
            padding: 2rem;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #333;
        }
        
        .header h1 {
            font-size: 2rem;
            color: #ffffff;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .header p {
            color: #999;
            font-size: 1rem;
        }
        
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
            align-items: start;
        }
        
        @media (max-width: 1024px) {
            .grid-layout {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }
        
        .panel {
            background: #252525;
            border-radius: 8px;
            padding: 2rem;
            border: 1px solid #333;
        }
        
        .panel-title {
            font-size: 1.25rem;
            color: #ffffff;
            margin-bottom: 1.5rem;
            font-weight: 600;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #333;
        }
        
        /* Schematic Panel */
        .schematic-container {
            background: #0f0f0f;
            border-radius: 6px;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #333;
            min-height: 450px;
        }
        
        /* Input Panel */
        .formula-box {
            background: #0f0f0f;
            border-radius: 6px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #333;
            text-align: center;
        }
        
        .formula-label {
            font-size: 0.75rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
        }
        
        .formula {
            font-size: 1.5rem;
            color: #007bff;
            font-weight: 600;
            font-family: 'Arial', sans-serif;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            background: #0f0f0f;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 0.75rem;
            color: #ffffff;
            font-size: 1rem;
            font-family: 'Arial', sans-serif;
            transition: border-color 0.2s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .form-group input::placeholder {
            color: #666;
        }
        
        .unit-hint {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.25rem;
        }
        
        .btn-calculate {
            width: 100%;
            background: #007bff;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 0.875rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            font-family: 'Arial', sans-serif;
            margin-top: 0.5rem;
        }
        
        .btn-calculate:hover {
            background: #0056b3;
        }
        
        .btn-calculate:active {
            background: #004085;
        }
        
        .result-container {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #333;
        }
        
        .result-label {
            font-size: 0.75rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
        }
        
        .result-box {
            background: #0f0f0f;
            border-radius: 6px;
            padding: 1.5rem;
            border: 1px solid #333;
            display: none;
        }
        
        .result-box.active {
            display: block;
        }
        
        .result-value {
            font-size: 1.5rem;
            color: #007bff;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .result-detail {
            font-size: 0.9rem;
            color: #999;
        }
        
        .error-box {
            background: #3d1a1a;
            border: 1px solid #5a2a2a;
            border-radius: 4px;
            padding: 0.75rem;
            color: #ff6b6b;
            font-size: 0.9rem;
            margin-top: 1rem;
            display: none;
        }
        
        .error-box.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Non-Inverting Operational Amplifier</h1>
            <p>Gain Calculator</p>
        </header>
        
        <div class="grid-layout">
            <!-- Left Column: Schematic -->
            <div class="panel">
                <h2 class="panel-title">Circuit Schematic</h2>
                <div class="schematic-container">
                    <svg width="500" height="450" viewBox="0 0 500 450" xmlns="http://www.w3.org/2000/svg">
                        <!-- Input Signal (Left side) -->
                        <line x1="50" y1="200" x2="150" y2="200" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <circle cx="50" cy="200" r="3" fill="#ffffff"/>
                        <text x="15" y="205" fill="#ffffff" font-family="Arial" font-size="14" font-weight="600">V<tspan font-size="10" baseline-shift="sub">in</tspan></text>
                        
                        <!-- Connection to Non-Inverting Input (+) -->
                        <line x1="150" y1="200" x2="150" y2="140" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <line x1="150" y1="140" x2="200" y2="140" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- Op-Amp Triangle (Standard IEEE Symbol) -->
                        <polygon points="200,110 200,170 300,140" fill="none" stroke="#ffffff" stroke-width="1.5"/>
                        
                        <!-- Op-Amp Terminal Labels -->
                        <text x="310" y="132" fill="#ffffff" font-family="Arial" font-size="12" font-weight="600">+</text>
                        <text x="310" y="158" fill="#ffffff" font-family="Arial" font-size="12" font-weight="600">-</text>
                        
                        <!-- Output Line (Right side) -->
                        <line x1="300" y1="140" x2="420" y2="140" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <circle cx="420" cy="140" r="3" fill="#ffffff"/>
                        <text x="435" y="145" fill="#ffffff" font-family="Arial" font-size="14" font-weight="600">V<tspan font-size="10" baseline-shift="sub">out</tspan></text>
                        
                        <!-- Feedback Loop: Output to Rf -->
                        <line x1="300" y1="140" x2="300" y2="80" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <line x1="300" y1="80" x2="220" y2="80" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- Feedback Resistor Rf (Horizontal Zigzag) -->
                        <path d="M 220 80 L 230 75 L 240 85 L 250 75 L 260 85 L 270 75 L 280 85 L 290 75 L 300 80" 
                              stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <text x="260" y="65" fill="#ffffff" font-family="Arial" font-size="13" font-weight="600" text-anchor="middle">R<tspan font-size="10" baseline-shift="sub">f</tspan></text>
                        
                        <!-- Connection from Rf to Node (Inverting Input Junction) -->
                        <line x1="220" y1="80" x2="220" y2="230" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- Connection from Node to Inverting Input (-) -->
                        <line x1="220" y1="230" x2="200" y2="170" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- Ground Resistor R1 (Vertical, from Node to Ground) -->
                        <line x1="220" y1="230" x2="220" y2="280" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- R1 Resistor (Vertical Zigzag) -->
                        <path d="M 220 280 L 215 290 L 225 300 L 215 310 L 225 320 L 215 330 L 225 340 L 215 350 L 220 360" 
                              stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <text x="195" y="320" fill="#ffffff" font-family="Arial" font-size="13" font-weight="600">R<tspan font-size="10" baseline-shift="sub">1</tspan></text>
                        
                        <!-- Connection from R1 to Ground -->
                        <line x1="220" y1="360" x2="220" y2="400" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        
                        <!-- Ground Symbol -->
                        <line x1="200" y1="400" x2="240" y2="400" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <line x1="210" y1="390" x2="210" y2="410" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <line x1="205" y1="400" x2="215" y2="400" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <line x1="220" y1="400" x2="230" y2="400" stroke="#ffffff" stroke-width="1.5" fill="none"/>
                        <text x="245" y="405" fill="#ffffff" font-family="Arial" font-size="11">GND</text>
                    </svg>
                </div>
            </div>
            
            <!-- Right Column: Inputs and Results -->
            <div class="panel">
                <h2 class="panel-title">Calculator</h2>
                
                <div class="formula-box">
                    <div class="formula-label">Gain Formula</div>
                    <div class="formula">A = 1 + R<sub>f</sub>/R<sub>1</sub></div>
                </div>
                
                <form id="gainForm" autocomplete="off">
                    <div class="form-group">
                        <label for="r1">Resistor R<sub>1</sub></label>
                        <input 
                            type="number" 
                            id="r1" 
                            min="0" 
                            step="any" 
                            required 
                            placeholder="Enter R1 value"
                        >
                        <div class="unit-hint">Resistance in Ohms (Ω)</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="rf">Feedback Resistor R<sub>f</sub></label>
                        <input 
                            type="number" 
                            id="rf" 
                            min="0" 
                            step="any" 
                            required 
                            placeholder="Enter Rf value"
                        >
                        <div class="unit-hint">Resistance in Ohms (Ω)</div>
                    </div>
                    
                    <button type="submit" class="btn-calculate">Calculate Gain</button>
                    
                    <div class="error-box" id="errorBox"></div>
                </form>
                
                <div class="result-container">
                    <div class="result-label">Result</div>
                    <div class="result-box" id="resultBox">
                        <div class="result-value" id="resultValue"></div>
                        <div class="result-detail" id="resultDetail"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.getElementById('gainForm').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent form submission and page refresh
            
            // Hide previous error
            const errorBox = document.getElementById('errorBox');
            errorBox.classList.remove('active');
            
            // Get input values
            const r1 = parseFloat(document.getElementById('r1').value);
            const rf = parseFloat(document.getElementById('rf').value);
            
            // Validate inputs
            if (isNaN(r1) || isNaN(rf) || r1 <= 0 || rf <= 0) {
                errorBox.textContent = 'Please enter valid positive numbers for both resistors.';
                errorBox.classList.add('active');
                document.getElementById('resultBox').classList.remove('active');
                return;
            }
            
            // Calculate gain: Gain = 1 + Rf/R1
            const gain = 1 + (rf / r1);
            
            // Display result
            const resultBox = document.getElementById('resultBox');
            const resultValue = document.getElementById('resultValue');
            const resultDetail = document.getElementById('resultDetail');
            
            resultValue.textContent = `Gain (A) = ${gain.toFixed(6)}`;
            resultDetail.textContent = `Output Voltage = ${gain.toFixed(6)} × Input Voltage`;
            
            resultBox.classList.add('active');
        });
    </script>
</body>
</html>
